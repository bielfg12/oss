<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
     <link rel="icon" href="img/favicon.ico" type="img/favicon">
    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const form = document.querySelector('form');
            form.classList.toggle('dark-mode');
            const headings = document.querySelectorAll('h3');
            headings.forEach(heading => heading.classList.toggle('dark-mode'));
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => button.classList.toggle('dark-mode'));
        }

        

        function gerarRelatorio() {

            const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            let relatorio = "";

            const relField = document.getElementById("rel");
            relatorio += `Cliente Relatou que: ${relField.value}\n`;

            checkboxes.forEach((checkbox) => {
                relatorio += `${checkbox.dataset.mascarado}\n`;
            });

            const dropdown = document.getElementById("opcoesDropdown");
            if (dropdown.selectedIndex > 0) {
                relatorio += `Sinal √≥ptico RX: ${dropdown.options[dropdown.selectedIndex].text}\n`;
            }

            const clientesDropdown = document.getElementById("clientes");
            if (clientesDropdown.selectedIndex > 0) {
                relatorio += `Quantidade de clientes na CTO: ${clientesDropdown.options[clientesDropdown.selectedIndex].text}\n`;
            }

            const ctoField = document.getElementById("cto");
            relatorio += `N√∫mero da CTO: ${ctoField.value}\n`;

            const telefoneField = document.getElementById("telefone");
            relatorio += `Tel para contato: ${telefoneField.value}\n`;

            const dataField = document.getElementById("data");
            if (dataField.value) {
                const dataValue = new Date(dataField.value);
                const dia = String(dataValue.getDate()).padStart(2, '0');
                const mes = String(dataValue.getMonth() + 1).padStart(2, '0');
                const ano = dataValue.getFullYear();
                relatorio += `Data da instala√ß√£o: ${dia}/${mes}/${ano}\n`;
            }

            const obsField = document.getElementById("obs");
            relatorio += `Observa√ß√µes: ${obsField.value}\n`;

            // Cria um elemento textarea tempor√°rio para copiar o texto
            const textarea = document.createElement("textarea");
            textarea.value = relatorio;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);

            alert("Relat√≥rio copiado:\n" + relatorio);
        }

        function limparFormulario() {
            document.getElementById("opcoesDropdown").selectedIndex = 0;
            document.getElementById("clientes").selectedIndex = 0;
            document.getElementById("telefone").value = "";
            document.getElementById("data").value = "";
            document.getElementById("obs").value = "";
            document.getElementById("cto").value = "";
            document.getElementById("rel").value = "";

            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach((checkbox) => {
                checkbox.checked = false;
            });
        }

        function limitarSelecaoPorCategoria(categoria) {
            const checkboxes = document.querySelectorAll(`input[name="${categoria}"]`);

            checkboxes.forEach((checkbox) => {
                checkbox.addEventListener('change', function () {
                    // Desmarca todos os checkboxes, exceto o atual
                    checkboxes.forEach((cb) => {
                        if (cb !== checkbox) {
                            cb.checked = false;
                        }
                    });
                });
            });
        }

        // Aplica a fun√ß√£o para cada categoria
        document.addEventListener('DOMContentLoaded', function () {
            limitarSelecaoPorCategoria('categoria1');
            limitarSelecaoPorCategoria('categoria2');
            limitarSelecaoPorCategoria('categoria3');
            limitarSelecaoPorCategoria('categoria4');
        });
    </script>
</head>

<body>
    <form>
        <div class="logo-container">
            <img src="img/logo2.png" alt="Logo">
        </div>

        <div class="input-row">
            <div>
                <h3>Cliente Relatou que:</h3>
                <input type="text" id="rel" placeholder="Relato do cliente"><br>
            </div>
        </div>

        <div class="checkbox-section">
            <div class="checkbox-group">
                <h3>üî© Diagn√≥stico t√©cnico:</h3>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes e verificado instala√ß√£o e foi constatado que a Fibra est√° rompida">
                    üîåFibra Rompida (Interno)
                </label><br>
                <label>
                    <input type="checkbox" id="opcao7" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Cliente est√° sem sinal, Drop Rompido.">
                    üÜòDrop Rompido (Externo)
                </label><br>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi verificado e orientado o cliente para fazer a  configura√ß√£o do roteador novamente mas sem sucesso.">
                    üìµRoteador Resetado
                </label><br>
                <label>
                    <input type="checkbox" id="opcao11" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes, verificado instala√ß√£o e o problema persistiu apresentando LUZ VERMELHA/LOS">
                    ‚ùåLos/Luz vermelha
                </label><br>
                <label>
                    <input type="checkbox" id="opcao11" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes, verificado instala√ß√£o e o problema persistiu com roteador piscando o PON">
                    ‚ú≥Ô∏èPon Piscando
                </label><br>
                <label>
                    <input type="checkbox" id="opcao8" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: *Orienta√ß√£o* Foi verificado instala√ß√£o, Feito ajustes no roteador, testes de internet, cliente informa que problema persiste, Sinal Ok,Conex√£o OK.">
                    ü´µOrienta√ß√£o
                </label><br>
                <label>
                    <input type="checkbox" id="opcao9" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Cliente Foi informado sobre tudo em rela√ß√£o a mudan√ßa de ponto.">
                    üè°Mudan√ßa de Ponto
                </label><br>
                <label>
                    <input type="checkbox" id="opcao10" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes e verificado instala√ß√£o e foi constatado que o sinal est√° muito atenuado">
                    üìâSinal Atenuado
                </label><br>
                <label>
                    <input type="checkbox" id="opcao12" name="categoria2"
                        data-mascarado="Diagn√≥stico T√©cnico: Foi verificado instala√ß√£o, foi testado em outras tomadas e o problema persistiu, roteador n√£o liga.">
                    üî•Roteador Queimado
                </label><br>
            </div>
            <div class="checkbox-group">
                <h3>Equipamento instalado:</h3>
                <label>
                    <input type="checkbox" id="opcao13" name="categoria3"
                        data-mascarado="Equipamento instalado: Huawei">
                    üñ•Ô∏èHuawei
                </label><br>
                <label>
                    <input type="checkbox" id="opcao14" name="categoria3"
                        data-mascarado="Equipamento instalado: IntelBras">
                    üì°IntelBras
                </label><br>
                <label>
                    <input type="checkbox" id="opcao15" name="categoria3"
                        data-mascarado="Equipamento instalado: Mercusys">
                    üåêMercusys
                </label><br>
                <label>
                    <input type="checkbox" id="opcao16" name="categoria3" data-mascarado="Equipamento instalado: FW">
                    üíªFW
                </label><br>
                <label>
                    <input type="checkbox" id="opcao17" name="categoria3" data-mascarado="Equipamento instalado: Unee">
                    üì±Unee
                </label><br>
            </div>

            <div class="checkbox-group">
                <h3>üí∞Custos:</h3>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria4"
                        data-mascarado="Cliente ciente dos custos para mudan√ßa de ponto em caso do aproveitamento da fibra R$ 50,00 se n√£o R$ 90,00 para troca de fibra , ">
                        üè†Mudan√ßa de ponto Resid√™ncial
                </label><br>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria4"
                        data-mascarado="Cliente ciente dos custos para mudan√ßa de ponto em caso do aproveitamento da fibra R$ 90,00 se n√£o R$ 180,00 para troca de fibra , ">
                        üè¢Mudan√ßa de ponto Empresa
                </label><br>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria4"
                        data-mascarado="Cliente ciente dos custos em caso de visita improdutiva R$ 40,00">
                        üëÄVisita Improdutiva
                </label><br>
                <label>
                    <input type="checkbox" id="opcao6" name="categoria4"
                        data-mascarado="Cliente ciente dos custos se caso for constatado que o problema √© interno, R$ 40,00 ">
                        üí∏Visita T√©cnica LOS
                </label><br>
            </div>

            <div class="input-row">
                <div>
                    <h3>üì∂ Sinal √ìptico RX:</h3>
                    <select id="opcoesDropdown">
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Sem Sinal/LOS">Sem Sinal/LOS</option>
                        <option value="Sinal Atenuado">Sinal Atenuado</option>
                        <option value="-15 dBm">-15 dBm</option>
                        <option value="-16 dBm">-16 dBm</option>
                        <option value="-17 dBm">-17 dBm</option>
                        <option value="-18 dBm">-18 dBm</option>
                        <option value="-19 dBm">-19 dBm</option>
                        <option value="-20 dBm">-20 dBm</option>
                        <option value="-21 dBm">-21 dBm</option>
                        <option value="-22 dBm">-22 dBm</option>
                        <option value="-23 dBm">-23 dBm</option>
                        <option value="-24 dBm">-24 dBm</option>
                        <option value="-25 dBm">-25 dBm</option>
                        <option value="-26 dBm">-26 dBm</option>
                        <option value="-27 dBm">-27 dBm</option>
                    </select><br>
                </div>
                <div>

                    <h3>üî¢ Clientes na CTO:</h3>
                    <select id="clientes">
                        <option value="" disabled selected>Selecione...</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                    </select><br>
                </div>

                <div class="input-row">
                    <div>
                        <h3>üìç CTO:</h3>
                        <input type="text" id="cto" placeholder="Digite o n√∫mero da CTO"><br>
                    </div>
                </div>
                <div class="input-row">
                    <div>
                        <h3>üìû Telefone:</h3>
                        <input type="tel" id="telefone" placeholder="(xx) xxxx-xxxx"><br>
                    </div>
                </div>
                <div class="input-row">
                    <div>

                        <h1>üìÖ Data Instala√ß√£o:</h1>
                        <input type="date" id="data"><br>
                        <div class="input-row">
                        </div>
                    </div>
                    <div>
                        <h3>‚úèÔ∏è Observa√ß√µes:</h3>
                        <input type="text" id="obs" placeholder="Digite observa√ß√µes"><br>
                        <div>
                            <div class="button-container">
                                <button type="button" onclick="gerarRelatorio()" class="icon-button">
                                    <i class="fa-solid fa-clone"></i>
                                </button>
                                <button type="button" onclick="limparFormulario()" class="icon-button limpar-relatorio">
                                    <i class="fa-solid fa-broom"></i>
                                </button>
                            </div>
    </form>
</body>

</html>
