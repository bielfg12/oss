<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Relat√≥rio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #474646;
            margin: 0;
            backdrop-filter: blur(40px); /* Aplica desfoque ao fundo */
            padding: 20px;
            background-image: url('https://ibb.co/3dD5nz5'); 
            background-size: cover; 
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            transition: background-color 0.3s, color 0.3s;
        }
        h1 {
            text-align: center;
            color: #ffffff;
        }
        form {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 28px;
            background-color: rgba(38, 38, 38, 0.5); /* 60% de opacidade no fundo */
            backdrop-filter: blur(40px); /* Aplica desfoque ao fundo */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: 0 auto;
            transition: background-color 0.3s, color 0.3s;
        }
        h3 {
            color: #ffffff;
            margin-bottom: 10px;
        }
        select, input[type="text"], input[type="tel"], input[type="date"] {
            margin-top: 0px;
            width: calc(100% - 22px);
            padding: 5px;
            margin-bottom: 0px;
            border: 1px solid #ccc;
            border-radius: 16px;
            box-sizing: border-box;
        }
        button {
            background-color: #ffdd01;
            color: white;
            margin-top: 15px;
            border: none;
            padding: 10px 15px;
            border-radius: 18px;
            cursor: pointer;
            font-size: 20px;
            margin-right: 20px;
        }
        label {
            color: white;   
        }
        button:hover {
            background-color: #800080;
        }
        .limpar-relatorio {
            background-color: #800080;
            color: #ffffff;
        }
        .limpar-relatorio:hover {
            background-color: #ffdd01;
        }
        body.dark-mode {
            background-color: #333;
            color: #f0f0f0;
        }
        form.dark-mode {
            background-color: #444;
            color: #f0f0f0;
            background-color: rgba(255, 255, 255, 0.2); /* 60% de opacidade no fundo */
            backdrop-filter: blur(10px); /* Aplica desfoque ao fundo */
        }
        h3.dark-mode {
            color: #ddd;
        }
        button.dark-mode {
            background-color: #555;
            color: #fff;
        }
        button.dark-mode:hover {
            background-color: #800080;
            color: #fff;
        }
        .limpar-relatorio.dark-mode:hover {
            background-color: #ffdd01;
            color: #fff;
        }
    </style>
    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const form = document.querySelector('form');
            form.classList.toggle('dark-mode');
            const headings = document.querySelectorAll('h3');
            headings.forEach(heading => heading.classList.toggle('dark-mode'));
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => button.classList.toggle('dark-mode'));
        }

        function gerarRelatorio() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            let relatorio = "";

            checkboxes.forEach((checkbox) => {
                relatorio += `${checkbox.dataset.mascarado}\n`;
            });

            const dropdown = document.getElementById("opcoesDropdown");
            if (dropdown.selectedIndex > 0) {
                relatorio += `Sinal √≥ptico RX: ${dropdown.options[dropdown.selectedIndex].text}\n`;
            }

            const clientesDropdown = document.getElementById("clientes");
            if (clientesDropdown.selectedIndex > 0) {
                relatorio += `Quantidade de clientes na CTO: ${clientesDropdown.options[clientesDropdown.selectedIndex].text}\n`;
            }

            const ctoField = document.getElementById("cto");
            relatorio += `N√∫mero da CTO: ${ctoField.value}\n`;

            const telefoneField = document.getElementById("telefone");
            relatorio += `Tel para contato: ${telefoneField.value}\n`;

            const dataField = document.getElementById("data");
            if (dataField.value) {
                const dataValue = new Date(dataField.value);
                const dia = String(dataValue.getDate()).padStart(2, '0');
                const mes = String(dataValue.getMonth() + 1).padStart(2, '0');
                const ano = dataValue.getFullYear();
                relatorio += `Data da instala√ß√£o: ${dia}/${mes}/${ano}\n`;
            }

            const obsField = document.getElementById("obs");
            relatorio += `Observa√ß√µes: ${obsField.value}\n`;

            // Cria um elemento textarea tempor√°rio para copiar o texto
            const textarea = document.createElement("textarea");
            textarea.value = relatorio;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);

            alert("Relat√≥rio copiado:\n" + relatorio);
        }

        function limparFormulario() {
            document.getElementById("opcoesDropdown").selectedIndex = 0;
            document.getElementById("clientes").selectedIndex = 0;
            document.getElementById("telefone").value = "";
            document.getElementById("data").value = "";
            document.getElementById("obs").value = "";
            document.getElementById("cto").value = "";

            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach((checkbox) => {
                checkbox.checked = false;
            });
        }

        function limitarSelecaoPorCategoria(categoria) {
            const checkboxes = document.querySelectorAll(`input[name="${categoria}"]`);
            
            checkboxes.forEach((checkbox) => {
                checkbox.addEventListener('change', function() {
                    // Desmarca todos os checkboxes, exceto o atual
                    checkboxes.forEach((cb) => {
                        if (cb !== checkbox) {
                            cb.checked = false;
                        }
                    });
                });
            });
        }

        // Aplica a fun√ß√£o para cada categoria
        document.addEventListener('DOMContentLoaded', function() {
            limitarSelecaoPorCategoria('categoria1');
            limitarSelecaoPorCategoria('categoria2');
            limitarSelecaoPorCategoria('categoria3');
        });
    </script>
</head>
<body>
    <form>
        <div style="text-align: right;">
            <label>
                <input type="checkbox" id="darkModeSwitch" onchange="toggleDarkMode()" style="cursor: pointer;">
                üåû Modo Claro
            </label>
        </div>

        <h3>üì® Cliente Relatou que:</h3>
        <label>
                <input type="checkbox" id="opcao1" name="categoria1" data-mascarado="Cliente Relatou que: est√° enfrentando problemas de conex√£o. N√£o h√° sinal algum e que o roteador est√° com a luz vermelha acesa.">
                ‚ùåLos/Luz Vermelha
            </label><br>
            <label>
                <input type="checkbox" id="opcao2" name="categoria1" data-mascarado="Cliente Relatou que: est√° sem conex√£o nenhuma, Informou que o roteador n√£o est√° ligando">
                üî•Roteador N√£o Liga
            </label><br>
            <label> <input type="checkbox" id="opcao3" name="categoria1" data-mascarado="Cliente Relatou que: *Orienta√ß√£o* sua Internet est√° Oscilando muito, conex√£o lenta">
                ü´µOrienta√ß√£o
            </label><br>
            <label>
                <input type="checkbox" id="opcao4" name="categoria1" data-mascarado="Cliente Relatou que: precisa de Mudan√ßa de Ponto">
                üè°Mudan√ßa de Ponto
            </label><br>
            <label>
                <input type="checkbox" id="opcao5" name="categoria1" data-mascarado="Cliente Relatou que: Que sua Internet est√° Oscilando muito, conex√£o lenta, caindo varias vezes.">
                üìâConex√£o Lenta/Oscilando (Atenuado)
            </label><br>

        <h3>üî© Diagn√≥stico t√©cnico:</h3>
        <label>
                <input type="checkbox" id="opcao6" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes e verificado instala√ß√£o e foi constatado que a Fibra est√° rompida">
                üîåFibra Rompida (Interno)
            </label><br>
            <label>
                <input type="checkbox" id="opcao7" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Cliente est√° sem sinal, Drop Rompido.">
                üÜòDrop Rompido (Externo)
            </label><br>
            <label>
                <input type="checkbox" id="opcao11" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes, verificado instala√ß√£o e o problema persistiu apresentando LUZ VERMELHA/LOS">
                ‚ùåLos/Luz vermelha
            </label><br>
            <label>
                <input type="checkbox" id="opcao8" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: *Orienta√ß√£o* Foi verificado instala√ß√£o, Feito ajustes no roteador, testes de internet, cliente informa que problema persiste, Sinal Ok,Conex√£o OK.">
                ü´µOrienta√ß√£o
            </label><br>
            <label>
                <input type="checkbox" id="opcao9" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Cliente Foi informado dos custos para mudan√ßa de ponto e est√° ciente.">
                üè°Mudan√ßa de Ponto
            </label><br>
            <label>
                <input type="checkbox" id="opcao10" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Foi feito testes e verificado instala√ß√£o, feito ajustes em roteador e foi constatado que o sinal est√° Atenuado">
                üìâSinal Atenuado
            </label><br>
            <label>
                <input type="checkbox" id="opcao12" name="categoria2" data-mascarado="Diagn√≥stico T√©cnico: Foi verificado instala√ß√£o, foi testado em outras tomadas e o problema persistiu, roteador queimado">
                üî•Roteador Queimado
            </label><br>

        <h3>Equipamento instalado:</h3>
        <label>
            <input type="checkbox" id="opcao13" name="categoria3" data-mascarado="Equipamento instalado: Huawei">
            üñ•Ô∏èHuawei
        </label><br>
        <label>
            <input type="checkbox" id="opcao14" name="categoria3" data-mascarado="Equipamento instalado: IntelBras">
            üì°IntelBras
        </label><br>
        <label>
            <input type="checkbox" id="opcao15" name="categoria3" data-mascarado="Equipamento instalado: Mercusys">
            üåêMercusys
        </label><br>
        <label>
            <input type="checkbox" id="opcao16" name="categoria3" data-mascarado="Equipamento instalado: FW">
            üíªFW
        </label><br>
        <label>
            <input type="checkbox" id="opcao17" name="categoria3" data-mascarado="Equipamento instalado: Unee">
            üõúUnee
        </label><br>

        <h3>üì∂ Sinal √ìptico RX:</h3>
        <select id="opcoesDropdown">
            <option value="" disabled selected>Selecione...</option>
             <option value="Sem Sinal/LOS">Sem Sinal/LOS</option>
                <option value="-15 dBm">-15 dBm</option>
                <option value="-16 dBm">-16 dBm</option>
                <option value="-17 dBm">-17 dBm</option>
                <option value="-18 dBm">-18 dBm</option>
                <option value="-19 dBm">-19 dBm</option>
                <option value="-20 dBm">-20 dBm</option>
                <option value="-21 dBm">-21 dBm</option>
                <option value="-22 dBm">-22 dBm</option>
                <option value="-23 dBm">-23 dBm</option>
                <option value="-24 dBm">-24 dBm</option>
                <option value="-25 dBm">-25 dBm</option>
                <option value="-26 dBm">-26 dBm</option>
                <option value="-27 dBm">-27 dBm</option>
                <option value="-28 dBm">-28 dBm</option>
                <option value="-29 dBm">-29 dBm</option>
                <option value="-30 dBm">-30 dBm</option>
                <option value="-31 dBm">-31 dBm</option>
                <option value="-32 dBm">-32 dBm</option>
                <option value="-33 dBm">-33 dBm</option>
                <option value="-34 dBm">-34 dBm</option>
                <option value="-35 dBm">-35 dBm</option>
        </select><br>

        <h3>üî¢ Quantidade de clientes na CTO:</h3>
        <select id="clientes">
            <option value="" disabled selected>Selecione...</option>
            <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
        </select><br>

        <h3>üìç CTO:</h3>
        <input type="text" id="cto" placeholder="Digite o n√∫mero da CTO"><br>

        <h3>üìû Telefone para contato:</h3>
        <input type="tel" id="telefone" placeholder="(xx) xxxx-xxxx"><br>

        <h3>üìÖ Data da instala√ß√£o:</h3>
        <input type="date" id="data"><br>

        <h3>‚úèÔ∏è Observa√ß√µes:</h3>
        <input type="text" id="obs" placeholder="Digite observa√ß√µes"><br>

        <button type="button" onclick="gerarRelatorio()">Gerar Relat√≥rio</button>
        <button type="button" class="limpar-relatorio" onclick="limparFormulario()">Limpar Formul√°rio</button>
    </form>
</body>
</html>
